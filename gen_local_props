#!/bin/bash

target_file='local.properties'

if [ -e $target_file ]; then echo "$target_file is in the way."; exit 0; fi

echo '# generated by gen_local_props' >$target_file
echo -n 'sdk.dir=' >>$target_file

# try $ANDROID_HOME, if that doesn't work, try the location of the android command line tool
android_path=$ANDROID_HOME
if [ "$android_path" == "" ]; then android_path=`which android | sed 's/tools\/android/tools\//'`; fi
if [ "$android_path" == "" ]; then echo "android sdk folder could not be determined."; exit -1; fi

echo $android_path >>$target_file